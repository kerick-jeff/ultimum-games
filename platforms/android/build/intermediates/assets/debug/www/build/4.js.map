{"version":3,"sources":["../../src/pages/genres/genres.module.ts","../../src/pages/genres/genres.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GenresPage } from './genres';\n\n@NgModule({\n  declarations: [\n    GenresPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(GenresPage),\n  ],\n})\nexport class GenresPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/genres/genres.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nimport { DataProvider } from '../../providers/data/data';\nimport { AlertProvider } from '../../providers/alert/alert';\n\nconst GENRE = 'genre';\nconst TITLE = 'title';\n\n@IonicPage()\n@Component({\n  selector: 'page-genres',\n  templateUrl: 'genres.html',\n})\nexport class GenresPage {\n  genres: Array<any>\n  currentGenre: number\n  offset: number = 0\n  total: number\n  numPages: number\n  currentPage: number = 1\n  more: boolean = true\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private storage: Storage,\n    public viewCtrl: ViewController,\n    private _data: DataProvider,\n    private alertProvider: AlertProvider\n  ) {\n    this._data.getGenresCount().subscribe(res => {\n      this.total = res.count\n      this.numPages = Math.ceil(this.total / 50) // 50 is the limit used in this._data.getPlatform()\n      if(this.currentPage >= this.numPages) {\n        this.more = false\n      }\n    }, err => {\n      this.alertProvider.showAlert(\"No Internet\", \"Please make sure you are connected to the internet\")\n    })\n  }\n\n  ionViewDidLoad() {\n    this.storage.get(GENRE).then((val) => {\n      if(val) {\n        this.currentGenre = val\n      }\n    })\n\n    this._data.getGenres(this.offset)\n      .subscribe(res => {\n        this.genres = res\n      }, err => {\n        this.alertProvider.showAlert(\"No Internet\", \"Please make sure you are connected to the internet\")\n      })\n  }\n\n  genreSelected(genre) {\n    this.storage.set(GENRE, genre.id)\n    this.storage.set(TITLE, genre.name) // Store homepage title\n    this.viewCtrl.dismiss(genre)\n  }\n\n  loadMore() {\n    this.currentPage += 1\n    this.offset = this.currentPage - 1\n    this._data.getGenres(this.offset)\n      .subscribe(res => {\n        this.genres = res\n\n        if(this.currentPage >= this.numPages) {\n          this.more = false\n        }\n      }, err => {\n        this.alertProvider.showAlert(\"No Internet\", \"Please make sure you are connected to the internet\")\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/genres/genres.ts"],"sourceRoot":""}