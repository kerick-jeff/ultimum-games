{"version":3,"sources":["../../src/pages/genres/genres.module.ts","../../src/pages/filter/filter.module.ts","../../src/pages/genres/genres.ts","../../src/pages/filter/filter.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GenresPage } from './genres';\n\n@NgModule({\n  declarations: [\n    GenresPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(GenresPage),\n  ],\n})\nexport class GenresPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/genres/genres.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FilterPage } from './filter';\n\nimport { GenresPageModule } from '../genres/genres.module';\n\n@NgModule({\n  declarations: [\n    FilterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FilterPage),\n    GenresPageModule\n  ],\n})\nexport class FilterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/filter/filter.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nimport { DataProvider } from '../../providers/data/data';\nimport { AlertProvider } from '../../providers/alert/alert';\n\nconst GENRE = 'genre';\nconst TITLE = 'title';\n\n@IonicPage()\n@Component({\n  selector: 'page-genres',\n  templateUrl: 'genres.html',\n})\nexport class GenresPage {\n  genres: Array<any>\n  currentGenre: number\n  offset: number = 0\n  total: number\n  numPages: number\n  currentPage: number = 1\n  more: boolean = true\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private storage: Storage,\n    public viewCtrl: ViewController,\n    private _data: DataProvider,\n    private alertProvider: AlertProvider\n  ) {\n    this._data.getGenresCount().subscribe(res => {\n      this.total = res.count\n      this.numPages = Math.ceil(this.total / 50) // 50 is the limit used in this._data.getPlatform()\n      if(this.currentPage >= this.numPages) {\n        this.more = false\n      }\n    }, err => {\n      this.alertProvider.showAlert(\"No Internet\", \"Please make sure you are connected to the internet\")\n    })\n  }\n\n  ionViewDidLoad() {\n    this.storage.get(GENRE).then((val) => {\n      if(val) {\n        this.currentGenre = val\n      }\n    })\n\n    this._data.getGenres(this.offset)\n      .subscribe(res => {\n        this.genres = res\n      }, err => {\n        this.alertProvider.showAlert(\"No Internet\", \"Please make sure you are connected to the internet\")\n      })\n  }\n\n  genreSelected(genre) {\n    this.storage.set(GENRE, genre.id)\n    this.storage.set(TITLE, genre.name) // Store homepage title\n    this.viewCtrl.dismiss(genre)\n  }\n\n  loadMore() {\n    this.currentPage += 1\n    this.offset = this.currentPage - 1\n    this._data.getGenres(this.offset)\n      .subscribe(res => {\n        this.genres = res\n\n        if(this.currentPage >= this.numPages) {\n          this.more = false\n        }\n      }, err => {\n        this.alertProvider.showAlert(\"No Internet\", \"Please make sure you are connected to the internet\")\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/genres/genres.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, LoadingController } from 'ionic-angular';\n\nimport { Storage } from '@ionic/storage';\n\nconst FILTEROPTIONS: string[] = [\n  'None',\n  'Genre',\n  'Coming Soon'\n];\n\nconst TITLE = \"title\";\nconst FILTER = 'filter';\nconst GENRE = \"genre\";\n\n@IonicPage()\n@Component({\n  selector: 'page-filter',\n  templateUrl: 'filter.html',\n})\nexport class FilterPage {\n  options: string[]\n  currentFilter: string\n  callback: any\n\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    private storage: Storage,\n    public modalCtrl: ModalController,\n    public loadingCtrl: LoadingController\n  ) {\n    this.options = FILTEROPTIONS\n    this.currentFilter = navParams.get(FILTER)\n    this.callback = navParams.get(\"callback\")\n  }\n\n  optionSelected(option: string) {\n    this.currentFilter = option\n\n    switch(this.currentFilter) {\n      case FILTEROPTIONS[1]: // Genres\n        let loader = this.loadingCtrl.create({\n          content: 'Getting Genres...'\n        })\n\n        loader.present().then(() => {\n          this.openGenres()\n\n          setTimeout(() => {\n            loader.dismiss()\n          }, 3500)\n        })\n        \n        break;\n      case FILTEROPTIONS[2]: // Coming Soon\n        this.storage.set(FILTER, this.currentFilter).then(() => {\n          this.storage.set(TITLE, this.currentFilter).then(() => {\n            this.callback(true).then(() => {\n              this.storage.get(GENRE).then((val) => {\n                if(val) {\n                  this.storage.remove(GENRE)\n                }\n              })\n\n              this.navCtrl.pop()\n            })\n          })\n        })\n        break;\n      default: // None\n        this.storage.set(FILTER, this.currentFilter).then(() => {\n          this.storage.set(TITLE, 'Ultimum').then(() => {\n            this.callback(true).then(() => {\n              this.storage.get(GENRE).then((val) => {\n                if(val) {\n                  this.storage.remove(GENRE)\n                }\n              })\n\n              this.navCtrl.pop()\n            })\n          })\n        })\n        break;\n    }\n  }\n\n  private openGenres() {\n    let genresModal = this.modalCtrl.create('GenresPage');\n\n    genresModal.onDidDismiss(genre => {\n      if(genre) {\n        this.storage.set(FILTER, this.currentFilter).then(() => {\n          this.callback(true).then(() => {\n            this.navCtrl.pop()\n          })\n        })\n      }\n    })\n\n    genresModal.present()\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/filter/filter.ts"],"sourceRoot":""}